<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<ul>
		<li>1</li>
		<li>2</li>
		<li>3</li>
	</ul>
	<script>
		var uls=document.getElementsByTagName('ul')[0],
			lis=uls.getElementsByTagName('li');
			for(var i=0;i<lis.length;i++){
				lis[i].index=i;
				lis[i].onclick=function(){
					alert(this.index)
				}
			}
			for(var i=0;i<lis.length;i++){
				(function(i){
					lis[i].onclick=function(){
						alert(lis[i])
					}
				})(i)
			}
	</script>
</body>
</html>