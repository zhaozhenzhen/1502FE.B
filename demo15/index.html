<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		a{
			text-decoration: none;
		}
      #box{
      	height: 400px;
      	width: 150px;
      	border:1px solid #ccc;
		margin:20px auto;
      }
      a{
      	padding-left: 10px;
      }
	</style>
</head>
<body>
	<div id="box">
		<h4><input type="checkbox"><label for="">全选</label><a href="javascript:;">反选</a></h4>
		<div id="hao">
			<p><input type="checkbox" name="item"><label for="">选项(一)</label></p>
			<p><input type="checkbox" name="item"><label for="">选项(二)</label></p>
			<p><input type="checkbox" name="item"><label for="">选项(三)</label></p>
			<p><input type="checkbox" name="item"><label for="">选项(四)</label></p>
			<p><input type="checkbox" name="item"><label for="">选项(五)</label></p>
			<p><input type="checkbox" name="item"><label for="">选项(六)</label></p>
			<p><input type="checkbox" name="item"><label for="">选项(七)</label></p>
			<p><input type="checkbox" name="item"><label for="">选项(八)</label></p>
			<p><input type="checkbox" name="item"><label for="">选项(九)</label></p>
			<p><input type="checkbox" name="item"><label for="">选项(十)</label></p>
		</div>
	</div>
	<script>
		var lian=document.getElementsByTagName('a')[0],
			Input=document.getElementsByTagName('input'),
			label=document.getElementsByTagName('label')[0];
			function feng(){
				var n=0;
				for(var i=1;i<Input.length;i++){
					Input[i].checked && n++
				}
				Input[0].checked=n==Input.length-1;
				label.innerHTML=Input[0].checked?'全不选':'全选';
			}


			Input[0].onclick=function(){
				for(var i=1;i<Input.length;i++){
					Input[i].checked=this.checked;
				}
				label.innerHTML=Input[0].checked?'全不选':'全选';
			};

			lian.onclick=function(){
				for(var i=1;i<Input.length;i++){
					Input[i].checked=!Input[i].checked;
				}
				feng()
			}
			for(var i=1;i<Input.length;i++){
				Input[i].onclick=function(){
					feng()
				}
			}
	</script>
</body>
</html>